import{S as j,i as z,s as B,N as O,e as v,a as A,t as S,c as k,b as w,d as u,f as C,u as V,h as g,j as b,k as E,w as F,O as P,n as _,l as L,E as U,F as q,G,K,L as M,M as W}from"./index-e5b06665.js";import{o as H}from"./Groq.svelte_svelte_type_style_lang-7844a275.js";/* empty css                                                  */function J(n){let e,s,t,o;return{c(){e=v("button"),s=S("START"),this.h()},l(l){e=k(l,"BUTTON",{class:!0});var r=w(e);s=V(r,"START"),r.forEach(u),this.h()},h(){g(e,"class","si svelte-1r8wo07"),e.disabled=n[0]},m(l,r){b(l,e,r),E(e,s),t||(o=L(e,"click",n[3]),t=!0)},p(l,r){r&1&&(e.disabled=l[0])},d(l){l&&u(e),t=!1,o()}}}function Q(n){let e,s,t,o,l;return{c(){e=v("button"),s=S("STOP"),this.h()},l(r){e=k(r,"BUTTON",{class:!0});var i=w(e);s=V(i,"STOP"),i.forEach(u),this.h()},h(){g(e,"class","no svelte-1r8wo07"),e.disabled=t=!n[0]},m(r,i){b(r,e,i),E(e,s),o||(l=L(e,"click",n[4]),o=!0)},p(r,i){i&1&&t!==(t=!r[0])&&(e.disabled=t)},d(r){r&&u(e),o=!1,l()}}}function X(n){let e=n[9]+"",s;return{c(){s=S(e)},l(t){s=V(t,e)},m(t,o){b(t,s,o)},p(t,o){o&4&&e!==(e=t[9]+"")&&F(s,e)},d(t){t&&u(s)}}}function Y(n){return{c:_,l:_,m:_,p:_,d:_}}function Z(n){return{c:_,l:_,m:_,p:_,d:_}}function $(n){let e,s,t,o,l,r,i,m,h;function f(c,p){return c[0]?Q:J}let T=f(n),d=T(n),a={ctx:n,current:null,token:null,hasCatch:!0,pending:Z,then:Y,catch:X,value:8,error:9};return O(h=n[2],a),{c(){e=v("div"),s=v("div"),d.c(),t=A(),o=v("div"),l=S(n[1]),r=A(),i=v("div"),m=v("div"),a.block.c(),this.h()},l(c){e=k(c,"DIV",{class:!0});var p=w(e);s=k(p,"DIV",{class:!0});var R=w(s);d.l(R),R.forEach(u),p.forEach(u),t=C(c),o=k(c,"DIV",{class:!0});var y=w(o);l=V(y,n[1]),y.forEach(u),r=C(c),i=k(c,"DIV",{class:!0});var I=w(i);m=k(I,"DIV",{class:!0});var D=w(m);a.block.l(D),D.forEach(u),I.forEach(u),this.h()},h(){g(s,"class","state svelte-1r8wo07"),g(e,"class","controls svelte-1r8wo07"),g(o,"class","transcript svelte-1r8wo07"),g(m,"class","respuesta svelte-1r8wo07"),g(i,"class","contenedor svelte-1r8wo07")},m(c,p){b(c,e,p),E(e,s),d.m(s,null),b(c,t,p),b(c,o,p),E(o,l),b(c,r,p),b(c,i,p),E(i,m),a.block.m(m,a.anchor=null),a.mount=()=>m,a.anchor=null},p(c,[p]){n=c,T===(T=f(n))&&d?d.p(n,p):(d.d(1),d=T(n),d&&(d.c(),d.m(s,null))),p&2&&F(l,n[1]),a.ctx=n,p&4&&h!==(h=n[2])&&O(h,a)||P(a,n,p)},i:_,o:_,d(c){c&&(u(e),u(t),u(o),u(r),u(i)),d.d(),a.block.d(),a.token=null,a=null}}}function N(n){const e=n.split(" ");return e.pop(),n=e.join(" "),n}function x(n,e,s){let t=!1,o="",l,r="";const i=async f=>{s(2,r=await H(f)),console.log({prompt:f},{respuesta:r}),f=""};typeof window<"u"&&"webkitSpeechRecognition"in window?(l=new webkitSpeechRecognition,l.continuous=!0,l.interimResults=!0,l.lang="es-ES",l.onstart=()=>{s(0,t=!0)},l.onerror=f=>{console.error(f.error),s(0,t=!1)},l.onend=()=>{s(0,t=!1)},l.onresult=f=>{let T="";for(let c=f.resultIndex;c<f.results.length;++c)f.results[c].isFinal?s(1,o+=f.results[c][0].transcript):T+=f.results[c][0].transcript;s(1,o=o.trim());const d=o.split(" "),a=d[d.length-1];switch(console.log({ultimo:a}),a){case"Stop":h(),s(1,o=N(o));break;case"borrar":s(1,o="");break;case"enviar":s(1,o=N(o)),i(o),h(),s(1,o="");break}},l.onspeechend=()=>{h()}):console.error("El navegador no soporta el reconocimiento de voz");function m(){t||l.start()}function h(){t&&l.stop()}return[t,o,r,m,h]}class ee extends j{constructor(e){super(),z(this,e,x,$,B,{})}}function te(n){let e,s;return e=new ee({}),{c(){U(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,o){G(e,t,o),s=!0},p:_,i(t){s||(K(e.$$.fragment,t),s=!0)},o(t){M(e.$$.fragment,t),s=!1},d(t){W(e,t)}}}class le extends j{constructor(e){super(),z(this,e,null,te,B,{})}}export{le as default};
