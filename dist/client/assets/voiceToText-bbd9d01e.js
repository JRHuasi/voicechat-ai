import{S as E,i as z,s as R,e as _,a as V,t as w,c as h,b,d as f,f as I,u as S,h as g,j as T,k as v,w as O,n as k,l as y,E as D,F as j,G as x,K as A,L as B,M as F}from"./index-e5b06665.js";/* empty css                                                  */function L(a){let t,s,e,r;return{c(){t=_("button"),s=w("START"),this.h()},l(o){t=h(o,"BUTTON",{class:!0});var i=b(t);s=S(i,"START"),i.forEach(f),this.h()},h(){g(t,"class","si svelte-ar2gz0"),t.disabled=a[0]},m(o,i){T(o,t,i),v(t,s),e||(r=y(t,"click",a[2]),e=!0)},p(o,i){i&1&&(t.disabled=o[0])},d(o){o&&f(t),e=!1,r()}}}function N(a){let t,s,e,r,o;return{c(){t=_("button"),s=w("STOP"),this.h()},l(i){t=h(i,"BUTTON",{class:!0});var c=b(t);s=S(c,"STOP"),c.forEach(f),this.h()},h(){g(t,"class","no svelte-ar2gz0"),t.disabled=e=!a[0]},m(i,c){T(i,t,c),v(t,s),r||(o=y(t,"click",a[3]),r=!0)},p(i,c){c&1&&e!==(e=!i[0])&&(t.disabled=e)},d(i){i&&f(t),r=!1,o()}}}function P(a){let t,s,e,r,o;function i(n,u){return n[0]?N:L}let c=i(a),l=c(a);return{c(){t=_("div"),s=_("div"),l.c(),e=V(),r=_("div"),o=w(a[1]),this.h()},l(n){t=h(n,"DIV",{class:!0});var u=b(t);s=h(u,"DIV",{class:!0});var d=b(s);l.l(d),d.forEach(f),u.forEach(f),e=I(n),r=h(n,"DIV",{class:!0});var p=b(r);o=S(p,a[1]),p.forEach(f),this.h()},h(){g(s,"class","state svelte-ar2gz0"),g(t,"class","controls svelte-ar2gz0"),g(r,"class","transcript svelte-ar2gz0")},m(n,u){T(n,t,u),v(t,s),l.m(s,null),T(n,e,u),T(n,r,u),v(r,o)},p(n,[u]){c===(c=i(n))&&l?l.p(n,u):(l.d(1),l=c(n),l&&(l.c(),l.m(s,null))),u&2&&O(o,n[1])},i:k,o:k,d(n){n&&(f(t),f(e),f(r)),l.d()}}}function U(a,t,s){let e=!1,r="",o;typeof window<"u"&&"webkitSpeechRecognition"in window?(o=new webkitSpeechRecognition,o.continuous=!0,o.interimResults=!0,o.lang="es-ES",o.onstart=()=>{s(0,e=!0)},o.onerror=n=>{console.error(n.error),s(0,e=!1)},o.onend=()=>{s(0,e=!1)},o.onresult=n=>{let u="";for(let m=n.resultIndex;m<n.results.length;++m)n.results[m].isFinal?s(1,r+=n.results[m][0].transcript):u+=n.results[m][0].transcript;s(1,r=r.trim());const d=r.split(" "),p=d[d.length-1];switch(console.log({ultimo:p}),p){case"Stop":l(),i();break;case"borrar":s(1,r=""),i();break}},o.onspeechend=()=>{l()}):console.error("El navegador no soporta el reconocimiento de voz");function i(){const n=r.split(" ");n.pop(),s(1,r=n.join(" "))}function c(){e||o.start()}function l(){e&&o.stop()}return[e,r,c,l]}class q extends E{constructor(t){super(),z(this,t,U,P,R,{})}}function C(a){let t,s;return t=new q({}),{c(){D(t.$$.fragment)},l(e){j(t.$$.fragment,e)},m(e,r){x(t,e,r),s=!0},p:k,i(e){s||(A(t.$$.fragment,e),s=!0)},o(e){B(t.$$.fragment,e),s=!1},d(e){F(t,e)}}}class M extends E{constructor(t){super(),z(this,t,null,C,R,{})}}export{M as default};
